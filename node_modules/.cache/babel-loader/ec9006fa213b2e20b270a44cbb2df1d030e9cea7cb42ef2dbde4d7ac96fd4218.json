{"ast":null,"code":"import _regeneratorRuntime from \"/Users/cinnamonarts/Documents/GitHub/jayflix/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/cinnamonarts/Documents/GitHub/jayflix/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/cinnamonarts/Documents/GitHub/jayflix/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { getData } from './api_layer';\nimport { mapState, mapMutations, mapActions } from 'vuex';\nexport default {\n  name: 'App',\n  data: function data() {\n    return {\n      searchQuery: '',\n      searchResults: null,\n      mediaTypeSwitch: false\n    };\n  },\n  computed: _objectSpread(_objectSpread({}, mapState({\n    mediaType: function mediaType(state) {\n      return state.mediaType;\n    }\n  })), {}, {\n    isMobile: function isMobile() {\n      if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }),\n  watch: {\n    searchQuery: function searchQuery(query) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _yield$getData, results;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!query) {\n                _context.next = 8;\n                break;\n              }\n              _context.next = 3;\n              return getData(\"https://api.themoviedb.org/3/search/movie?query=\".concat(query));\n            case 3:\n              _yield$getData = _context.sent;\n              results = _yield$getData.results;\n              _this.searchResults = results;\n              _context.next = 9;\n              break;\n            case 8:\n              _this.searchResults = null;\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    mediaTypeSwitch: function mediaTypeSwitch(type) {\n      var mediaType = type ? 'series' : 'movies';\n      this.SetMediaType(mediaType);\n      this.getLatestMedia(mediaType);\n    }\n  },\n  mounted: function mounted() {\n    this.getLatestMedia(this.mediaType);\n  },\n  methods: _objectSpread(_objectSpread(_objectSpread({}, mapMutations(['SetMediaType'])), mapActions(['getLatestMedia'])), {}, {\n    clickedOutside: function clickedOutside() {\n      console.log('Hello');\n      this.searchQuery = '';\n    }\n  })\n};","map":{"version":3,"names":["getData","mapState","mapMutations","mapActions","name","data","searchQuery","searchResults","mediaTypeSwitch","computed","_objectSpread","mediaType","state","isMobile","test","navigator","userAgent","watch","query","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getData","results","wrap","_callee$","_context","prev","next","concat","sent","stop","type","SetMediaType","getLatestMedia","mounted","methods","clickedOutside","console","log"],"sources":["/Users/cinnamonarts/Documents/GitHub/jayflix/src/App.vue"],"sourcesContent":["<style lang=\"scss\">\n @import './assets/styles/app.scss';\n @import './assets/styles/style_guide.scss';\n</style>\n\n<template>\n  <nav>\n    <ul>\n      <li>\n        <a class=\"active\" href=\"/\">\n          <i class=\"fa fa-home\" />\n        </a>\n      </li>\n      <li>\n        <a href=\"/movies/tamil\">Tamil</a>\n      </li>\n    </ul>\n    <div class=\"media-switch\">\n      <h3>MOV</h3>\n      <label class=\"switch\">\n        <input type=\"checkbox\" v-model=\"mediaTypeSwitch\">\n        <span class=\"slider\">\n            <span class=\"circle\"></span>\n        </span>\n      </label>\n      <h3>TV</h3>\n    </div>\n    <div class=\"search\" :click-outisde=\"clickedOutside\">\n        <div class=\"search-bar\">\n          <input\n            type=\"text\" \n            placeholder=\"Search ...\"\n            v-model=\"searchQuery\">\n          <i class=\"fa fa-search\"></i>\n        </div>\n        <div v-if=\"searchResults\" class=\"list-group\">\n          <li v-for=\"(result, index) in searchResults\" :key=\"index\">\n            {{ result.title }}\n          </li>\n        </div>\n      </div>\n  </nav>\n  <div id=\"container\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport { getData } from './api_layer';\nimport { mapState, mapMutations, mapActions } from 'vuex';\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      searchQuery: '',\n      searchResults: null,\n      mediaTypeSwitch: false\n    }\n  },\n  computed: {\n    ...mapState({\n      mediaType: state => state.mediaType\n    }),\n    isMobile() {\n      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n        return true\n      } else {\n        return false\n      }\n    }\n  },\n  watch: {\n    async searchQuery (query) {\n      if (query) {\n        const {results} = await getData(`https://api.themoviedb.org/3/search/movie?query=${query}`);\n        this.searchResults = results;\n      } else {\n        this.searchResults = null;\n      }\n    },\n    mediaTypeSwitch (type) {\n      const mediaType = type ? 'series' : 'movies';\n      this.SetMediaType(mediaType);\n      this.getLatestMedia(mediaType);\n    }\n  },\n  mounted () {\n    this.getLatestMedia(this.mediaType);\n  },\n  methods: {\n    ...mapMutations(['SetMediaType']),\n    ...mapActions(['getLatestMedia']),\n    clickedOutside () {\n      console.log('Hello');\n      this.searchQuery = '';\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;AAgDA,SAASA,OAAM,QAAS,aAAa;AACrC,SAASC,QAAQ,EAAEC,YAAY,EAAEC,UAAS,QAAS,MAAM;AAEzD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAG,WAAAA,KAAA,EAAK;IACN,OAAO;MACLC,WAAW,EAAE,EAAE;MACfC,aAAa,EAAE,IAAI;MACnBC,eAAe,EAAE;IACnB;EACF,CAAC;EACDC,QAAQ,EAAAC,aAAA,CAAAA,aAAA,KACHT,QAAQ,CAAC;IACVU,SAAS,EAAE,SAAAA,UAAAC,KAAI;MAAA,OAAKA,KAAK,CAACD,SAAQ;IAAA;EACpC,CAAC,CAAC;IACFE,QAAQ,WAAAA,SAAA,EAAG;MACT,IAAG,gEAAgE,CAACC,IAAI,CAACC,SAAS,CAACC,SAAS,CAAC,EAAE;QAC7F,OAAO,IAAG;MACZ,OAAO;QACL,OAAO,KAAI;MACb;IACF;EAAA,EACD;EACDC,KAAK,EAAE;IACCX,WAAU,WAAAA,YAAGY,KAAK,EAAE;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,cAAA,EAAAC,OAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,KACpBZ,KAAK;gBAAAU,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACiB9B,OAAO,oDAAA+B,MAAA,CAAoDb,KAAK,CAAE,CAAC;YAAA;cAAAM,cAAA,GAAAI,QAAA,CAAAI,IAAA;cAApFP,OAAO,GAAAD,cAAA,CAAPC,OAAO;cACdN,KAAI,CAACZ,aAAY,GAAIkB,OAAO;cAAAG,QAAA,CAAAE,IAAA;cAAA;YAAA;cAE5BX,KAAI,CAACZ,aAAY,GAAI,IAAI;YAAA;YAAA;cAAA,OAAAqB,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IAE7B,CAAC;IACDf,eAAc,WAAAA,gBAAG0B,IAAI,EAAE;MACrB,IAAMvB,SAAQ,GAAIuB,IAAG,GAAI,QAAO,GAAI,QAAQ;MAC5C,IAAI,CAACC,YAAY,CAACxB,SAAS,CAAC;MAC5B,IAAI,CAACyB,cAAc,CAACzB,SAAS,CAAC;IAChC;EACF,CAAC;EACD0B,OAAM,WAAAA,QAAA,EAAK;IACT,IAAI,CAACD,cAAc,CAAC,IAAI,CAACzB,SAAS,CAAC;EACrC,CAAC;EACD2B,OAAO,EAAA5B,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACFR,YAAY,CAAC,CAAC,cAAc,CAAC,CAAC,GAC9BC,UAAU,CAAC,CAAC,gBAAgB,CAAC,CAAC;IACjCoC,cAAa,WAAAA,eAAA,EAAK;MAChBC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACpB,IAAI,CAACnC,WAAU,GAAI,EAAE;IACvB;EAAA;AAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}