{"ast":null,"code":"!function (e, n) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = n() : \"function\" == typeof define && define.amd ? define(n) : (e || self)[\"v-click-outside\"] = n();\n}(this, function () {\n  var e = \"__v-click-outside\",\n    n = \"undefined\" != typeof window,\n    t = \"undefined\" != typeof navigator,\n    r = n && (\"ontouchstart\" in window || t && navigator.msMaxTouchPoints > 0) ? [\"touchstart\"] : [\"click\"];\n  function i(e) {\n    var n = e.event,\n      t = e.handler;\n    (0, e.middleware)(n) && t(n);\n  }\n  function a(n, t) {\n    var a = function (e) {\n        var n = \"function\" == typeof e;\n        if (!n && \"object\" != typeof e) throw new Error(\"v-click-outside: Binding value must be a function or an object\");\n        return {\n          handler: n ? e : e.handler,\n          middleware: e.middleware || function (e) {\n            return e;\n          },\n          events: e.events || r,\n          isActive: !(!1 === e.isActive),\n          detectIframe: !(!1 === e.detectIframe),\n          capture: !!e.capture\n        };\n      }(t.value),\n      d = a.handler,\n      o = a.middleware,\n      c = a.detectIframe,\n      u = a.capture;\n    if (a.isActive) {\n      if (n[e] = a.events.map(function (e) {\n        return {\n          event: e,\n          srcTarget: document.documentElement,\n          handler: function (e) {\n            return function (e) {\n              var n = e.el,\n                t = e.event,\n                r = e.handler,\n                a = e.middleware,\n                d = t.composedPath && t.composedPath() || t.path;\n              (d ? d.indexOf(n) < 0 : !n.contains(t.target)) && i({\n                event: t,\n                handler: r,\n                middleware: a\n              });\n            }({\n              el: n,\n              event: e,\n              handler: d,\n              middleware: o\n            });\n          },\n          capture: u\n        };\n      }), c) {\n        var l = {\n          event: \"blur\",\n          srcTarget: window,\n          handler: function (e) {\n            return function (e) {\n              var n = e.el,\n                t = e.event,\n                r = e.handler,\n                a = e.middleware;\n              setTimeout(function () {\n                var e = document.activeElement;\n                e && \"IFRAME\" === e.tagName && !n.contains(e) && i({\n                  event: t,\n                  handler: r,\n                  middleware: a\n                });\n              }, 0);\n            }({\n              el: n,\n              event: e,\n              handler: d,\n              middleware: o\n            });\n          },\n          capture: u\n        };\n        n[e] = [].concat(n[e], [l]);\n      }\n      n[e].forEach(function (t) {\n        var r = t.event,\n          i = t.srcTarget,\n          a = t.handler;\n        return setTimeout(function () {\n          n[e] && i.addEventListener(r, a, u);\n        }, 0);\n      });\n    }\n  }\n  function d(n) {\n    (n[e] || []).forEach(function (e) {\n      return e.srcTarget.removeEventListener(e.event, e.handler, e.capture);\n    }), delete n[e];\n  }\n  var o = n ? {\n    bind: a,\n    update: function (e, n) {\n      var t = n.value,\n        r = n.oldValue;\n      JSON.stringify(t) !== JSON.stringify(r) && (d(e), a(e, {\n        value: t\n      }));\n    },\n    unbind: d\n  } : {};\n  return {\n    install: function (e) {\n      e.directive(\"click-outside\", o);\n    },\n    directive: o\n  };\n});","map":{"version":3,"names":["window","t","navigator","r","n","msMaxTouchPoints","i","e","event","handler","middleware","a","Error","events","isActive","detectIframe","capture","value","d","o","c","u","map","srcTarget","document","documentElement","el","composedPath","path","indexOf","contains","target","l","setTimeout","activeElement","tagName","concat","forEach","addEventListener","removeEventListener","bind","update","oldValue","JSON","stringify","unbind","install","directive"],"sources":["../src/v-click-outside.js","../src/index.js"],"sourcesContent":["const HANDLERS_PROPERTY = '__v-click-outside'\nconst HAS_WINDOWS = typeof window !== 'undefined'\nconst HAS_NAVIGATOR = typeof navigator !== 'undefined'\nconst IS_TOUCH =\n  HAS_WINDOWS &&\n  ('ontouchstart' in window ||\n    (HAS_NAVIGATOR && navigator.msMaxTouchPoints > 0))\nconst EVENTS = IS_TOUCH ? ['touchstart'] : ['click']\n\nfunction processDirectiveArguments(bindingValue) {\n  const isFunction = typeof bindingValue === 'function'\n  if (!isFunction && typeof bindingValue !== 'object') {\n    throw new Error(\n      'v-click-outside: Binding value must be a function or an object',\n    )\n  }\n\n  return {\n    handler: isFunction ? bindingValue : bindingValue.handler,\n    middleware: bindingValue.middleware || ((item) => item),\n    events: bindingValue.events || EVENTS,\n    isActive: !(bindingValue.isActive === false),\n    detectIframe: !(bindingValue.detectIframe === false),\n    capture: !!bindingValue.capture,\n  }\n}\n\nfunction execHandler({ event, handler, middleware }) {\n  if (middleware(event)) {\n    handler(event)\n  }\n}\n\nfunction onFauxIframeClick({ el, event, handler, middleware }) {\n  // Note: on firefox clicking on iframe triggers blur, but only on\n  //       next event loop it becomes document.activeElement\n  // https://stackoverflow.com/q/2381336#comment61192398_23231136\n  setTimeout(() => {\n    const { activeElement } = document\n    if (\n      activeElement &&\n      activeElement.tagName === 'IFRAME' &&\n      !el.contains(activeElement)\n    ) {\n      execHandler({ event, handler, middleware })\n    }\n  }, 0)\n}\n\nfunction onEvent({ el, event, handler, middleware }) {\n  // Note: composedPath is not supported on IE and Edge, more information here:\n  //       https://developer.mozilla.org/en-US/docs/Web/API/Event/composedPath\n  //       In the meanwhile, we are using el.contains for those browsers, not\n  //       the ideal solution, but using IE or EDGE is not ideal either.\n  const path = (event.composedPath && event.composedPath()) || event.path\n  const isClickOutside = path\n    ? path.indexOf(el) < 0\n    : !el.contains(event.target)\n\n  if (!isClickOutside) {\n    return\n  }\n\n  execHandler({ event, handler, middleware })\n}\n\nfunction bind(el, { value }) {\n  const {\n    events,\n    handler,\n    middleware,\n    isActive,\n    detectIframe,\n    capture,\n  } = processDirectiveArguments(value)\n  if (!isActive) {\n    return\n  }\n\n  el[HANDLERS_PROPERTY] = events.map((eventName) => ({\n    event: eventName,\n    srcTarget: document.documentElement,\n    handler: (event) => onEvent({ el, event, handler, middleware }),\n    capture,\n  }))\n\n  if (detectIframe) {\n    const detectIframeEvent = {\n      event: 'blur',\n      srcTarget: window,\n      handler: (event) => onFauxIframeClick({ el, event, handler, middleware }),\n      capture,\n    }\n\n    el[HANDLERS_PROPERTY] = [...el[HANDLERS_PROPERTY], detectIframeEvent]\n  }\n\n  el[HANDLERS_PROPERTY].forEach(({ event, srcTarget, handler }) =>\n    setTimeout(() => {\n      // Note: More info about this implementation can be found here:\n      //       https://github.com/ndelvalle/v-click-outside/issues/137\n      if (!el[HANDLERS_PROPERTY]) {\n        return\n      }\n      srcTarget.addEventListener(event, handler, capture)\n    }, 0),\n  )\n}\n\nfunction unbind(el) {\n  const handlers = el[HANDLERS_PROPERTY] || []\n  handlers.forEach(({ event, srcTarget, handler, capture }) =>\n    srcTarget.removeEventListener(event, handler, capture),\n  )\n  delete el[HANDLERS_PROPERTY]\n}\n\nfunction update(el, { value, oldValue }) {\n  if (JSON.stringify(value) === JSON.stringify(oldValue)) {\n    return\n  }\n  unbind(el)\n  bind(el, { value })\n}\n\nconst directive = {\n  bind,\n  update,\n  unbind,\n}\n\nexport default HAS_WINDOWS ? directive : {}\n","import directive from './v-click-outside'\n\nconst plugin = {\n  install(Vue) {\n    Vue.directive('click-outside', directive)\n  },\n  directive,\n}\n\nexport default plugin\n"],"mappings":";;;;8BAAMA,MAAoB;IAAAC,CAAA,kBACpB,OAAgCC,SAAA;IAAAC,CAAA,GAAAC,CAAA,KAAX,cACgB,IAAAJ,MAAA,IAAAC,CAAA,IAAdC,SAAA,CAKvBG,gBAFH,qBACE,CAAiB,YAAU;EAAA,SAAAC,EAAAC,CAAA;IAAA,IAAmBH,CACzB,GAACG,CAAA,CAAAC,KAAA;MAAAP,CAAA,GAAAM,CAAA,CAAAE,OAAiB;IAAA,IAAAF,CAoB5C,CAAAG,UAAS,EAAAN,CAAA,KAAAH,CAAc,CAAAG,CAAA;EAAA;EAAA,SAAOO,EAAAP,CAAA,EAAAH,CAAA;IAAA,IACxBU,CAAA,aADiCJ,CAAA;QAAA,IACtBH,CACb,aAqCJ,WAAcG,CAAA;QAAA,KAAAH,CAzDd,YAAmC,IACjC,OAA2CG,CAAA,YAAAK,KAAA,CAAjB,gEAGtB;QAAA;UAAAH,OAAA,EAAAL,CAAA,GAAAG,CAAA,GAAAA,CAAA,CAAAE,OAAA;UAAAC,UAAA,EAAAH,CAAA,CAAAG,UAKF,cAAqCH,CAAA,EAAa;YAAA,OAClDA,CAAA;UAAA;UAAAM,MAAA,EAAAN,CAAY,CAAAM,MAAa,IAAAV,CAAA;UAAAW,QAAe,KAAC,MAAAP,CAAA,CAAAO,QACzC;UAAAC,YAAqB,IAAU,CAC/B,MAAAR,CAAA,CAAAQ,YAAyB;UAAAC,OAAA,EACzB,EAAAT,CAAA,CAAAS;QAAA;MAAA,EAAAf,CAAA,CAA8CgB,KAA9B,CAAa;MAAAC,CAAA,GAAAP,CAAA,CAAAF,OAAA;MAAAU,CAC7B,GAAAR,CAAA,CAAAD,UAAwB;MAAAU,CAAA,GAAAT,CAAA,CAAAI,YA2CR;MAGhBM,CAAA,GAAAV,CAAA,CAAAK,OAAA;IACA,IAAAL,CAAA,CAAAG,QAAA;MAEA,IAAAV,CAAA,CAAAG,CAAA,IAAAI,CAAA,CAAAE,MAAA,CACAS,GAAA,WAEFf,CAAA;QAAA,OAJE;UAAAC,KAeF,EAAAD,CAPA;UAAAgB,SAXE,EAAAC,QAWiC,CAAAC,eAAC;UAAehB,OAC1C,WAAAA,CACPF,CAAA,EAAW;YAAA,iBAASA,CAAA;cAAA,IAAAH,CACpB,GAAAG,CAAA,CAAAmB,EAAA;gBAAAzB,CAAA,GAASM,CAAA,CAAAC,KAAA;gBAAAL,CAAC,GAAAI,CAAA,CAAAE,OAjCd;gBAAAE,CAAA,GAAAJ,CAAA,CAAAG,UAAA;gBAAmBQ,CAAA,GAAAjB,CAAA,CAAA0B,YAAI,IAAO1B,CAAA,CAAA0B,YAAS,MAAA1B,CAAA,CAAA2B,IAAA;cAAA,CAK/BV,CAAA,GAAQA,CAAA,CAAMW,OAAA,CAAAzB,CAAA,SAAgBA,CAAA,CAAM0B,QAAA,CAAA7B,CAAA,CAAA8B,MAAmB,CAAM,KAAAzB,CAAA;gBAC5CE,KACd,EAAAP,CAAA;gBAAAQ,OAAc,EAAAN,CAAA;gBAClBO,UAAG,EAASC;cAAA,CAAM;YAAA;cAAAe,EAAA,EAAAtB,CAAA;cAAAI,KAMT,EAAAD,CAAA;cAAAE,OAAO,EAAAS,CAAA;cAAAR,UAAS,EAAAS;YAAA;UAAA;UAAAH,OAmBE,EAAAK;QAAA,CAAI;MAAA,IAAAD,CAAA;QAAA,IAAOY,CAAA;UAAAxB,KAAS;UAAAe,SAClD,EAAAvB,MAAA;UAAAS,OAIA,WAAAO,CACET,CAAA;YAAO,OACP,UAAAA,CAAW;cAAA,IAAAH,CACX,GAAAG,CAAA,CAAAmB,EAAA;gBAAAzB,CAAA,GAASM,CAAA,CAAAC,KAAA;gBAAAL,CAAC,GAAAI,CAAA,CAAAE,OAzDhB;gBAAAE,CAAA,GAAAJ,CAAA,CAAAG,UAAA;cAA6BuB,UAAI,aAAO;gBAAA,IAAA1B,CAAA,GAAAiB,QAAS,CAAAU,aAI/C;gBAAA3B,CAAA,YAAW,KAAAA,CACT,CAAA4B,OAA0B,KAAA/B,CAAA,CAAA0B,QAAlB,CAAAvB,CAAA,KAAAD,CAAA;kBAENE,KAC0B,EAAAP,CAAA;kBAAAQ,OAA1B,EAAcN,CAAA;kBAAAO,UACV,EAAAC;gBAAA;cAAA;YAAA,CAAS;cAAAe,EAEb,EAAAtB,CAAY;cAAEI,KAAA,EAAAD,CAAA;cAAOE,OAAA,EAAAS,CAAA;cAASR,UAAA,EAAAS;YAAA;UAAA;UAE/BH,OA4CyC,EAAAK;QAAA,CAAI;QAAAjB,CAAA,CAAAG,CAAA,MAAO,CAAA6B,MAAA,CAAAhC,CAAA,CAASG,CAAA,IAAAyB,CAAA;MAAA;MAAA5B,CAAA,CAAAG,CAAA,EAAA8B,OAC5D,WAGCpC,CAAA;QAAA,IAAAE,CAAA,GAAAF,CAAA,CAAAO,KAA4B;UAAAF,CAAoB,GAAAL,CAAA,CAAAsB,SAG/B;UAAAZ,CAAA,GAAAV,CAAA,CAAQQ,OAAA;QAAA,OAAAwB,UAAG,CAAO;UAAA7B,CAAA,CAAAG,CAAW,KAAAD,CAAA,CAAAgC,gBACjD,CAAAnC,CAAA,EAAAQ,CAAA,EAAAU,CAAA;QAAA,GAAW;MAAA;IAAA;EAAA;EAAA,SAGDH,EAGRd,CAAA,EAAU;IAAA,CAAAA,CAAA,CAAAG,CAAA,SAAA8B,OAAwB,WACjC9B,CAAA,EAIP;MAAA,OAAAA,CAAS,CAAAgB,SACa,CAAAgB,mBACH,CAAAhC,CAAA,CAAAC,KAAA,EAAAD,CAAA,CAAAE,OAAU,EAAAF,CAAA,CAAAS,OACf;IAAA,WAAAZ,CAAA,CAAAG,CAAA;EAAA;EAAA,IADQY,CAAA,GAAAf,CAAA;IAAAoC,IAAkB,EAAA7B,CAAA;IAAA8B,MAAS,WAAAA,CAAAlC,CAAA,EAAAH,CAAA;MAAA,IAGrCH,CAAA,GAAAG,CAWZ,CAAAa,KAMe;QAAAd,CANG,GAChBC,CAAA,CAAAsC,QACA;MAAAC,IAVF,CAAAC,SAAgB,CAAA3C,CAAA,MAAA0C,IAAM,CAAAC,SAAO,CAAAzC,CAAA,MAAAe,CAAA,CAAAX,CAAA,CACvB,EAAAI,CAAA,CAAAJ,CAAA,EAAK;QAAAU,KAAA,EAAAhB;MAAA,EAAU;IAAA;IAAA4C,MAAW,EAAK3B;EAAA;EAAA,OAAU;IAAA4B,OAI7C,WAAAA,CAAWvC,CAAA;MAAAA,CAAA,CAAAwC,SAMX,gBC7HA,EAAA5B,CAAA;IAAA;IAAA4B,SAAQ,EAAA5B;EAAA,CACN;AAAA,EAAI"},"metadata":{},"sourceType":"script","externalDependencies":[]}